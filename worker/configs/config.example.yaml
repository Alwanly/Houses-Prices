server:
  port: 8080
  shutdown_timeout: 30

mongodb:
  uri: "mongodb://localhost:27017"  # Override with WORKER_MONGODB_URI env var
  database: "houses_prices"
  timeout: 10

redis:
  addr: "localhost:6379"  # Override with WORKER_REDIS_ADDR env var
  password: ""            # Override with WORKER_REDIS_PASSWORD env var
  db: 0

logging:
  level: "info"   # debug, info, warn, error
  format: "json"  # json, console

sites:
  - name: "rumah123"
    base_url: "https://www.rumah123.com/jual/jakarta-selatan/rumah/"
    schedule: "0 0 2 * * *"  # Cron format: sec min hour day month weekday
    enabled: true
    rate_limit: 2  # requests per second
    timeout: 30    # seconds per request
    selectors:
      # CSS selectors specific to rumah123.com
      # Update these if the website structure changes
      list_item: ".card-featured"
      title: ".card-featured__content-title"
      price: ".card-featured__content-price"
      location: ".card-featured__content-address"
      detail_url: "a.card-featured__link"
      bedrooms: ".attribute-info__item--bedroom"
      bathrooms: ".attribute-info__Item--bathroom"
      land_area: ".attribute-info__item--land-area"
      building_area: ".attribute-info__item--building-area"
      description: ".property-description"
      images: ".property-gallery img"
      agent_name: ".agent-info__name"
      agent_phone: ".agent-info__phone"
      next_page: "a.pagination__next"

  # Example: Add more sites here
  # - name: "lamudi"
  #   base_url: "https://www.lamudi.co.id/..."
  #   schedule: "0 0 3 * * *"  # Daily at 3:00 AM
  #   enabled: true
  #   rate_limit: 2
  #   timeout: 30
  #   selectors:
  #     list_item: ".property-card"
  #     # ... site-specific selectors
